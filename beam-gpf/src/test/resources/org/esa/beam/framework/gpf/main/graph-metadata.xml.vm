<metadata>

    <source>
        <name>$sourceProduct.name</name>
        <width>$sourceProduct.sceneRasterWidth</width>
        <height>$sourceProduct.sceneRasterHeight</height>
    </source>

    <sources>
#foreach ($key in $sourceProducts.keySet())
        <$key>$sourceProducts.get($key).name</$key>
#end
    </sources>

    <target>
        <name>$targetProduct.name</name>
        <width>$targetProduct.sceneRasterWidth</width>
        <height>$targetProduct.sceneRasterHeight</height>
    </target>

    <parameterMetadata>
        <parameters>
#foreach ($key in $parameters.keySet())
            <$key>$parameters.get($key)</$key>
#end
        </parameters>
        <parameterFile>$parameterFile</parameterFile>
        <parameterFileContent><![CDATA[$parameterFileContent]]></parameterFileContent>
    </parameterMetadata>

    <graphMetadata>
        <graphFile>$graphFile</graphFile>
        <graphXml><![CDATA[$graphXml]]></graphXml>
        <graphNodeIds>
#foreach ($node in $graph.nodes)
            <node>$node.id</node>
#end
        </graphNodeIds>
    </graphMetadata>

    <extraMetadata>
#foreach ($key in $metadata.keySet())
        <$key>$metadata.get($key)</$key>
#end
    </extraMetadata>
</metadata>